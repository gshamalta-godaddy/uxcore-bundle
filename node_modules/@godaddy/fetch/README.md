# `@godaddy/fetch`

Minimalistic cross-platform Fetch API ponyfill. Use fetch in all enviroments,
e.g. Node.JS, browsers and React Native.

> This package serves as a shallow proxy to the browser's `fetch` API. 
> GoDaddy provides polyfills to ensure `fetch` is always available in the 
> browser environment. Also most latest versions of evergreen browsers 
> provide `fetch` by default. This package can be helpful if you share 
> JS between server and client. For example, if your testing client-side JS in node.js. 

### Install

```
npm install --save @godaddy/fetch
```

### Usage

Regardless of the environment you're running code in, all fetch spec compliant
API's are available from `@godaddy/fetch`.

```js
import fetch, { AbortController, Request, Headers, Response } from '@godaddy/fetch';

// Get GoDaddy.com, abort the fetch if the request is not responded to within 5
// seconds. Rather than a setTimeout this could also be a user controlled
// interaction with the UI or different browser/Node.JS event.
async fetchHome() {
  const controller = new AbortController();
  const timeout = setTimeout(controller.abort.bind(controller), 5000);
  let res;

  try {
    res = await fetch('https://godaddy.com', {
      signal: controller.signal,
      method: 'GET'
    });
  } catch (error) {
    console.error(error);
  } finally {
    clearTimeout(timeout);
  }

  console.dir(res);
}
```

[Refer to the fetch API documentation to see all available methods and configurations.][fetch]

### Test

Tests run against Node.JS and use JSDOM to mock the browser environment. React
Native is tested against the same JSDOM setup since it provides a `global` by
default.

```sh
npm test
```

[fetch]: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API
