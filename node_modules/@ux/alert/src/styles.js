import { css } from 'linaria';
import Intents from '@ux/intents';
import feedbackExpressions from '@ux/intents/lib/feedback-expressions';

import '@ux/dialog/src/styles';
import '@ux/text/src/styles';

const intents = new Intents();

function createAlertVariant(type) {
  return `
    &.ux-alert--${type.toLowerCase()} {
      background-color: ${intents.ux[`feedback${type}`].feedbackColor};
      color: ${intents.ux[`feedback${type}`].onFeedbackColor};
      border-color: ${intents.ux[`feedback${type}`].feedbackColor};
    }
  `;
}

export default css`
  :global() {

    @import '~@ux/icon/information/index.css';
    @import '~@ux/icon/checkmark/index.css';
    @import '~@ux/icon/comment/index.css';
    @import '~@ux/icon/alert/index.css';
    @import '~@ux/icon/help/index.css';
    @import '~@ux/icon/star/index.css';

    .ux-alert {
      color: ${intents.ux.box.foregroundColor};
      background-color: ${intents.ux.box.backgroundColor};
      border-color: ${intents.ux.box.borderColor};
      border-width: ${intents.ux.box.borderWidth};
      border-radius: ${intents.ux.box.borderRadius};
      padding: calc(${intents.ux.box.density} * 4);

      & a[href] {
        color: inherit;
      }

      & svg {
        color: currentColor;
        fill: currentColor;
      }

      ${Object.values(feedbackExpressions || {}).map(createAlertVariant).filter(Boolean).join('\n')}
    }
  }
`;
