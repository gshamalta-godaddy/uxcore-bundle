# @ux/button

Set of UXCore 2.0 styled buttons that can be used with other React components

### Install

```bash
npm install @ux/button --save
```

### To develop locally for this module use `@exemplar/storybook`:

```
npm run storybook
```

### Usage

Create a React Button Component.

```js
import Button from '@ux/button';
import React from 'react';

React.render(<Button />, document.body);
```

### Migration to v2002

Here is a list of key changes when migrating to 2002:

#### Styles

- The `design` prop has been reduced to 4 options (not including the default `null`):
  - `critical` displays a red button used for destructive actions
  - `inline` is for an actionable target within a body of text (eg. link).
  - `primary` is for the main action on the page
  - `secondary` is for lesser prioritized actions
  - `control` is only used within form controls
- `merch` buttons have been replaced as `cta` with no animation on the arrow.
- Variations that appear on contrasted backgrounds have been removed.
- The `.btn` class has been deprecated and replaced with `.ux-button`, managed by this package.
- The button does not include margin on it by default. Please use `rem` units for this spacing following Design Foundation guidelines.
- You may add a class to the button to add additional layout styles (ie. position) to help with placement in your app. Please do not attempt to override appearance styles (ie. color, typography). Appropriate use example:

```css

.ux-button.my-button {
  flex: 1; /* Make the button full width in a flex column container */
  margin-top: auto; /* Push the button to the bottom of the flex column container */
}

```

#### Functionality

- The use of `children` is **deprecated** in favor of the `text` prop. This is to ensure no invalid markup or styles conflict with the button.
The system will warn the use of `children` but we expect to keep this functionality in to support corner-case usage.
- To include an icon in a button, use the `icon` prop. This will set the icon with the proper layout and alignment using Design Foundation guidelines.
- The `as` prop will change some of the functionality of the button. Using `as='select'` will create a dropdown button (just the button, not the entire dropdown), and `as='toggle'`
will create a toggle button. This will also add the proper `ARIA` attributes for this type of button.
- The `active` prop can pass the state to the `ARIA` attribute. For example: using `as='select'` will automatically add the
`aria-expanded` attribute, and the `active` prop can set this to `false`/`true`. This affects `aria-checked` for toggles and
`aria-pressed` for all other buttons.
- You may not affect `tabIndex` directly. Setting `disabled` on the button will automatically change the `tabIndex=-1`. This is to maintain tab order.

### Using `<FormattedMessage/>` with the new `text` prop
Here are two examples of sending `react-intl` messaging into the `text` prop.

```js
/* Using hooks */
import { useIntl } from 'react-intl';
import { Button } from '@ux/uxcore2';

const MyButton = () => {
  const intl = useIntl();
  return (
    <Button text={ intl.formatMessage({ id: 'SOME_STRING' }) }/>
  )
}
```

```js
/* Using a custom render function */
import { FormattedMessage } from 'react-intl';
import { Button } from '@ux/uxcore2';

<FormattedMessage id='SOME_STRING'>
{ text => <Button text={ text } /> }
</FormattedMessage>
```

### Test

```bash
git clone git@github.secureserver.net:react/button.git && cd button
npm install
npm test
```

### License

Proprietary
