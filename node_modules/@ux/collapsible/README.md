# @ux/collapsible

A simple collapsible panel for UXCore2. It's used as base component for the
`@ux/accordion` but it can be used as a stand-alone component if needed.

## Installation

The component is released in our private npm registry under the `ux`
artifcatory repository. It can be installed by running:

```sh
npm install --save @ux/collapsible
```

## Developing locally

To develop locally for this module use `@storybook/react` and `@exemplar/storybook-react`:
```sh
npm run storybook
```

## Properties

The Panel constructor is exposed as primary interface. The Panel allows the
following properties to be configured:

- **title**, Title of the collapsible panel (required)
- **open** Should the component be rendered in an open state? It's closed by
  default.
- **className** (Web only) Additional classNames that should be applied on the wrapper
  element.
- **onClick** Callback function to be called when the panel is clicked. This augments the default `onClick` functionality. If you want the collapse to toggle, return `true`, otherwise return `false`.
- **onKeyDown** Callback function to be called when an `Enter` or `space` key are pressed for accessibility without mouse.
- **indicator** (Optional) To provide a styled visual indicator on the left
  side of the panel title area
- **id** (Web only) Id attribute of panel, this property becomes required when the `title`
  property no longer contains just plain text. As we use the text in the title to
  generate id attributes.

## Examples

```jsx
import Panel from '@ux/collapsible';
import React from 'react';

class Example extends React.Component {
  render () {
    return (
      <Panel title="what do you want" open>
        <p>Some amazing content</p>
      </Panel>
    );
  }
}
```

(Web) title can also contain HTML fragments, in this case the `id` attribute
becomes required as well.

```jsx
import Panel from '@ux/collapsible';
import React from 'react';

class Example extends React.Component {
  render () {
    const title = (
      <div className='custom-class-name-here'>
        <strong>Hello world</strong>
      </div>
    );

    return (
      <Panel title={ title } id='hello-world' open>
        <p>Some amazing content</p>
      </Panel>
    );
  }
}
```

(Native) title can contain JSX fragments and `id` is not required.

```jsx
import Panel from '@ux/collapsible';
import React from 'react';
import { View, Text } from 'react-native';

class Example extends React.Component {
  render () {
    const title = (
      <View style={ customStyles }>
        <Text>Hello world</Text>
      </View>
    );

    return (
      <Panel title={ title } open>
        <Text>Some amazing content</Text>
      </Panel>
    );
  }
}
```

## Indicator usage

The idicator is an object with two expected string properties:

- **icon** The Icon component that needs to be rendered.
- **background** Color to be used behind the icon.
  - (Web): Is applied as a className. Should use names from [GoDaddy Experience System: Background Colors](https://gxsys.uxp.int.godaddy.com/#/pages/styles/colors/colors-background)
  - (Native): Is applied as a style prop. Should use names compatible with the [Palette API](https://github.com/gdcorp-uxp/uxcore2/tree/main/packages/utils/inline-styles/variables/palette.json)

```jsx
import Panel from '@ux/collapsible';
import Flag from '@ux/icon/flag';
import React from 'react';

class Example extends React.Component {
  render () {
    const options = {
      icon: Flag
      background: 'bg-warning'
    };
    return (
      <Panel title="what do you want" indicator={ options }>
        <p>Some amazing content</p>
      </Panel>
    );
  }
}
```
