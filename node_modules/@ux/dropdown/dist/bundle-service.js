!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("@ux/button").default):"function"==typeof define&&define.amd?define(["react","prop-types","@ux/button"],t):"object"==typeof exports?exports.ux=t(require("react"),require("prop-types"),require("@ux/button").default):(e.ux=e.ux||{},e.ux.Dropdown=t(e.React,e.PropTypes,e.ux.Button))}(self,((e,t,n)=>(()=>{var r={404:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return Array.isArray(e)||(e=[e]),e.reduce((function(e,t){return Array.isArray(t)?Array.prototype.push.apply(e,r(t)):"object"===("undefined"==typeof className?"undefined":n(className))?Object.keys(t).forEach((function(n){Object.prototype.hasOwnProperty.call(t,n)&&e.push(n)})):e.push(t),e}),[]).filter(Boolean)}function o(e){return"function"==typeof e.type?e.type.name:e.name||e}function s(e){return function(t){return!!(~e.indexOf(t)||~e.indexOf(t.type)||~e.indexOf(o(t)))}}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)||(e=[e]),function(t,n,i){return r(t[n]).every(s(e))?null:new Error("".concat(i," may only receive Components of type: ").concat(e.map(o).join(", ")," on property ").concat(n,"."))}}},318:e=>{"use strict";e.exports=function(e){var t=Array.prototype.slice.call(arguments,1),n={};for(var r in e)~t.indexOf(r)||(n[r]=e[r]);return n}},16:(e,t)=>{"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dropdown",r=arguments.length>2?arguments[2]:void 0;return 2===arguments.length&&"function"==typeof t&&(r=t,t="dropdown"),function(o,s){var i=e.state||{};"function"!=typeof(s=s||r)&&(s=null),e.setState(n({},t,!i[t]),s)}}},248:(e,t,n)=>{"use strict";var r,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(r,s,i):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(899)),s=n(670),i=(r=n(189))&&r.__esModule?r:{default:r};const l=["width","height","placeholder","className","title","desc","role"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}"undefined"==typeof process||!process.versions||process.versions.node,e.exports=function(e,t){const n=o.default.forwardRef((function(t,n){let{width:r="1.5em",height:i="1.5em",placeholder:c,className:d,title:p,desc:u,role:f="presentation"}=t,h=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,l);const[m,b]=(0,o.useState)(c);if((0,o.useEffect)((function(){const t=s.svgosm.get(e,(function(){const t=s.svgosm.extract(`uxp-icon-${e}`);if(t)return Object.assign(t,{title:p,desc:u})}));if(t)return b(t)}),[e]),!m)return null;const g={},y={className:["uxicon-svg-container",d].join(" ").trim(),height:i||m.height,width:r||m.width,role:f,ref:n};if(Object.keys(h).forEach((function(e){e.startsWith("aria-")||e.startsWith("data-")?y[e]=h[e]:g[e]=h[e]})),!y["aria-labelledby"]&&(p||u)){const e=m.link.slice(1),t=[];p&&t.push(`${e}-title`),u&&t.push(`${e}-desc`),y["aria-labelledby"]=t.join(" ")}return o.default.createElement("svg",y,o.default.createElement("use",a({fill:"currentColor"},g,{xlinkHref:m.link})))}));return n.displayName=e+"Icon",n.propTypes={width:i.default.oneOfType([i.default.number,i.default.string]),height:i.default.oneOfType([i.default.number,i.default.string]),placeholder:i.default.shape({link:i.default.string}),className:i.default.string,desc:i.default.string,title:i.default.string,role:i.default.string},n}},747:(e,t,n)=>{"use strict";const r=n(248);e.exports=r("chevron-down","false")},813:(e,t,n)=>{"use strict";const r=n(248);e.exports=r("clock","false")},143:(e,t,n)=>{"use strict";const r=n(248);e.exports=r("ellipsis","false")},670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgosm=t.default=t.SVGOSM=void 0;const n=["viewBox","title","desc","shapes"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i="undefined"!=typeof document?document.body||document.documentElement:null;class l{constructor(e,t=i){this.id=e,this.tracker={},this.mounted=[],this.root=t}mount(e){const t=document.createElement("div");t.style="display:none",t.id=this.id;const n=document.createElementNS(l.xmlns,"svg");t.appendChild(n),e.appendChild(t),this.mounted.push({svg:n,root:e,container:t}),Object.keys(this.tracker).forEach((e=>{n.innerHTML+=this.tracker[e].sym}))}extract(e){if(!e)return;let t;return this.root&&(this.mount(this.root),this.root=null),this.mounted.some((function({container:n}){const r=window.getComputedStyle(n,":before"),o=e.startsWith("--")?e:`--${e}`,s=r.getPropertyValue(o);let i=r.getPropertyValue("content");if(3===i.length&&(i=i.charAt(1)),i)if(i.includes("svg"))t=i;else if(1===i.length&&!/[a-z\d]/i.test(i))return!!t;return s&&s.includes("svg")&&(t=s),!!t})),t?this.parse(t):void 0}parse(e){if(!~e.indexOf("svg"))return{};const t=(e=decodeURI(e).replace(/%23/g,"#").replace(/\\"/g,'"')).indexOf(">"),n=e.indexOf("</svg>"),r=/viewBox=.*?([\d\s.]+)/.exec(e.substr(0,t));return r?{shapes:e.slice(t+1,n),viewBox:r[1]}:{}}get(e,t){const n=this.tracker[e];return n||!t?n:(this.set(e,t(e)),this.tracker[e])}sym(e,t={}){let{viewBox:r,title:s,desc:i,shapes:l}=t,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,n);if(!l)return!1;const a=`${this.id}-${e}`,d=`<symbol id="${a}" viewBox="${r}">${s?`<title id="${a}-title">${s}</title>`:""}${i?`<desc id="${a}-desc">${i}</desc>`:""}${l}</symbol>`;return this.tracker[e]=o(o({},c),{},{link:`#${this.id}-${e}`,viewBox:r,sym:d}),d}set(e,t){const n=this.sym(e,t);return!!n&&(this.root&&(this.mount(this.root),this.root=null),this.mounted.forEach((({svg:e})=>{e.innerHTML+=n})),!0)}}t.SVGOSM=t.default=l,l.xmlns="http://www.w3.org/2000/svg";const c=new l("svg-container");t.svgosm=c},432:(e,t,n)=>{"use strict";const r=n(248);e.exports=r("x","false")},676:(e,t)=>{"use strict";t.Z=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n.filter(Boolean).reduce(((t,n)=>("string"==typeof n&&~n.indexOf(" ")&&(n=n.split(" ")),Array.isArray(n)?Array.prototype.push.apply(t,e(...n).split(" ")):"object"==typeof n?Object.keys(n).forEach((function(e){n[e]?t.push(e):~t.indexOf(e)&&t.splice(t.indexOf(e),1)})):t.push(n),t)),[]).filter((function(e,t,n){return Boolean(e)&&n.indexOf(e)===t})).join(" ");return o||void 0}},390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"undefined"!=typeof navigator&&"[object Navigator]"===Object.prototype.toString.call(navigator)}},7:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.getBoundingClientRect();if(t.top<0)return t.top;const n=window.innerHeight||document.documentElement.clientHeight;return t.bottom>n?t.bottom-n:0}},700:(e,t,n)=>{"use strict";var r=n(55);t.Z=function(e){if(null==(t=e)||"object"!=typeof t||!Object.prototype.hasOwnProperty.call(t,"current"))return;var t;const{current:n}=e,r=(0,o.default)(n);if(!r)return;if(n.scrollIntoViewIfNeeded)return void n.scrollIntoViewIfNeeded(!1);let s=document.documentElement||document.body.parentNode;0===s.scrollTop&&(s=document.body),s.scrollTop=s.scrollTop+r};var o=r(n(7))},110:(e,t,n)=>{"use strict";var r=n(55);t.Z=i;var o=r(n(189)),s=r(n(245));function i(e){let{onClick:t,children:n,targetRef:r}=e;return(0,s.default)(r,t),n}i.propTypes={onClick:o.default.func.isRequired,targetRef:o.default.object.isRequired,children:o.default.node}},245:(e,t,n)=>{"use strict";var r=n(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.useEffect)((()=>{if(!s.default)return;const n=n=>{"function"==typeof n.composedPath&&!Array.from(n.composedPath()).includes(e.current)&&e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])};var o=n(899),s=r(n(390))},189:e=>{"use strict";e.exports=t},899:t=>{"use strict";t.exports=e},117:e=>{"use strict";e.exports=n},55:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}s.d(i,{default:()=>ue});var n=s(404),r=s(899),o=s.n(r),l=s(189),c=s.n(l),a=s(16),d=s(117),p=s.n(d);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const h=Object.values(p().designs).concat("button","select","multiselect","tripledot","custom");class m extends r.Component{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];super(e,...n),this.toggle=(0,a.Z)(this,"open",(()=>{const e=this.state.open;"function"==typeof this.props.onToggle&&this.props.onToggle(e),"function"==typeof this.toggleBackground&&this.toggleBackground(e)}));const o=Array.isArray(e.selected)||"number"==typeof e.selected?e.selected:e.defaultSelected;this.state=f(f({},this.state),{},{error:!1,open:this.props.open||!1,selected:[].concat(o),keyboardSelectionIndex:-1}),this.calledWarn=!1,this._warn()}_warn(){}items(e){throw new Error("Must be implemented by derived class.")}isMultiSelect(){return"multiselect"===this.props.type}redirectToHrefIfAvailable(e){const{href:t}=e;t&&"string"==typeof t&&"#"!==t&&(document.location=t)}selectIndex(e,t){const n=this.items(o().Children.toArray(this.props.children))[e];if(!n)return;const r="multiselect"===n.props.type?"onChange":"onClick";this.selectItem(f(f({},n.props),{},{itemIndex:e}),t,n.props[r])}selectItem(e,t,n){this.redirectToHrefIfAvailable(e);let{selected:r}=this.state;const{itemIndex:o}=e;if(this.isMultiSelect()){const e=r.indexOf(o);e>-1?r.splice(e,1):r.push(o)}else r=[o];const s={selected:r,keyboardSelectionIndex:o};let i=r;this.isMultiSelect()||(this.hide(),i=i[0]),this.setState(s,(()=>{this.broadcast(f(f({},e),{},{selected:i}),t,n)}))}broadcast(e,t,n){t&&(this.props.onChange&&this.props.onChange(e,t),n&&n(e,t))}componentDidUpdate(e){void 0!==this.props.open&&e.open!==this.props.open&&this.toggle(),this.props.selected!==e.selected&&this.setState({selected:[].concat(this.props.selected),keyboardSelectionIndex:-1})}get show(){return this.props.show||(e=>{this.toggle(e)})}get hide(){return this.props.hide||(e=>{this.state.open&&this.toggle(e)})}get selected(){return this.state.selected}keyDown(e){switch(e.key){case"Escape":this.hide();break;case"ArrowUp":case"ArrowDown":this.onArrowUpDown(e);break;case"Space":case"Enter":if(this.state.open){const{keyboardSelectionIndex:t}=this.state;this.selectIndex(t,e)}}}onArrowUpDown(e){"ArrowDown"!==e.key||this.state.open||this.show();let{keyboardSelectionIndex:t}=this.state;const n="ArrowDown"===e.key?1:-1;-1===t&&"ArrowUp"===e.key&&(t=0);const r=this.items(o().Children.toArray(this.props.children)),s=r.length;if(r.filter((e=>!e.props.disabled)).length>0)for(let e=t+n;e<s+1&&e>-2;e+=n)if(e=(e+s)%s,!r[e].props.disabled){this.setState({keyboardSelectionIndex:e});break}e.preventDefault()}getSelectedItem(e){let t=this.items(e)||[];return t=t.filter(((e,t)=>this.selected.includes(t))),t.length?t.reduce(((e,t,n)=>(n&&e.push(", "),e.push(t.props.children),e)),[]):null}}const b=m.defaultProps={defaultSelected:[],disabled:!1,onChange:()=>{},onToggle:()=>{}},g=m.propTypes={name:c().string,children:c().node,open:c().bool,show:c().func,hide:c().func,required:c().oneOfType([c().node,c().bool]),onChange:c().func,onToggle:c().func,type:c().oneOf(h),content:c().oneOfType([c().element,c().string]),disabled:c().bool,placeholder:c().node,label:c().node,toggleIcon:c().oneOf(["clock","dropdown"]),selected:c().oneOfType([c().number,c().array]),defaultSelected:c().oneOfType([c().number,c().array]),id:c().string,contextmenu:c().bool};var y=s(676),w=s(110),O=s(700);function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var x=s(747),j=s.n(x),E=s(143),k=s.n(E),P=s(813),S=s.n(P),I=s(318),D=s.n(I);const C=["type","toggle","ariaLabels","aria-controls","id"],R=["type","className","toggle","split","id","ariaLabels","forwardedRef"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?L(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(){return o().createElement("div",{className:"tripledot"},o().createElement(k(),{width:20,height:20}))}function B(e){let{type:n,toggle:r,ariaLabels:s,"aria-controls":i,id:l}=e,c=v(e,C);return o().createElement("div",{className:"btn-group"},o().createElement(p(),t({},c,{design:p().designs.includes(n)?n:null,className:"dropdown-split"})),o().createElement(p(),{id:l,"aria-haspopup":"listbox","aria-controls":i,design:p().designs.includes(n)?n:null,onClick:r,className:"dropdown-toggle dropdown-toggle-split btn-dropdown",as:"select","aria-label":s.dropdownButton}))}B.propTypes={toggle:c().func,type:c().string,"aria-controls":c().string,ariaLabels:c().shape({dropdownButton:c().string}),id:c().string};class T extends r.Component{render(){const e=D()(this.props,"toggleIcon","hasPlaceholder"),{type:n,className:r,toggle:s,split:i,id:l,ariaLabels:c,forwardedRef:a}=e,d=v(e,R);return i?o().createElement(B,t({type:n,toggle:s,id:l,ariaLabels:c},d)):o().createElement(p(),t({id:l,"aria-haspopup":"listbox","aria-controls":e["aria-controls"],active:e.open},d,{design:p().designs.includes(n)?n:null,onClick:s,as:"select",className:(0,y.Z)(r,"dropdown-toggle btn-dropdown")}),e.children)}}T.propTypes={toggle:c().func,"aria-controls":c().string,split:c().bool,disabled:c().bool,hasPlaceholder:c().bool};class M extends r.Component{constructor(){super(...arguments),this.onKeyDown=this.onKeyDown.bind(this),this.keycodes={Space:function(e){return"multiselect"!==e},Enter:"toggle",Escape:"keydown",ArrowUp:"keydown",ArrowDown:"keydown"}}onKeyDown(e){const t=e.key,n=this.keycodes[t];n&&(e.preventDefault(),this.props.onKeyDown(e),("toggle"===n||"function"==typeof n&&n(this.props.type))&&this.props.toggle(e))}render(){const e=this.props;let n={};e.disabled||(n={onClick:e.toggle,onKeyDown:this.onKeyDown});const{forwardedRef:r}=this.props;return o().createElement("div",t({ref:r,"aria-disabled":e.disabled,"aria-labelledby":e["aria-labelledby"],"aria-label":e.ariaLabels.menu,"aria-controls":e["aria-controls"],"aria-haspopup":"listbox","aria-expanded":e.open,role:"button"},n,{tabIndex:e.tabIndex,id:e.id?`${e.id}-menu`:"",className:(0,y.Z)("form-control",{"form-control-lg":"large"===e.size,"form-control-sm":"small"===e.size,"form-control-merch":e.merch,placeholder:e.hasPlaceholder})}),"tripledot"!==e.type&&"custom"!==e.type&&"clock"!==e.toggleIcon&&o().createElement("div",{className:"dropdown-toggle",role:"button","aria-hidden":"true"},o().createElement(j(),null)),"select"===e.type&&"clock"===e.toggleIcon&&o().createElement("div",{className:"timepicker"},o().createElement(S(),null)),o().createElement("div",{className:"dropdown-text"},e.children))}}M.defaultProps={tabIndex:0},M.propTypes={tabIndex:c().oneOf([-1,0]),toggle:c().func,disabled:c().bool,onKeyDown:c().func,toggleIcon:c().oneOf(["clock","dropdown"]),hasPlaceholder:c().bool,size:c().oneOf(["large","small","default"]),children:c().node,type:c().string,"aria-labelledby":c().string,ariaLabels:c().object,id:c().string,"aria-controls":c().string,merch:c().bool,open:c().bool,forwardedRef:c().any};const $=o().forwardRef(((e,n)=>o().createElement(M,t({forwardedRef:n},e))));class _ extends r.Component{constructor(){super(...arguments),this.ariaLabels=N(N({},_.defaultProps.ariaLabels),this.props.ariaLabels)}render(){const e=N(N({},this.props),{},{ariaLabels:this.ariaLabels});switch(e.type){case"select":case"multiselect":return o().createElement($,t({ref:e.forwardedRef},e));case"tripledot":return o().createElement($,t({ref:e.forwardedRef},e),o().createElement(A,null));case"custom":return o().createElement($,t({ref:e.forwardedRef},e),e.content);default:return o().createElement(T,e)}}}_.defaultProps={type:"button",split:!1,ariaLabels:{dropdownButton:"Open menu",menu:"Menu",open:"Opened dropdown",close:"Closed dropdown"}},_.propTypes={type:c().string,split:c().bool,disabled:c().bool,toggleIcon:c().oneOf(["clock","dropdown"]),hasPlaceholder:c().bool,merch:c().bool,"aria-labelledby":c().string,"aria-controls":c().string,content:c().node,tabIndex:c().oneOf([-1,0]),ariaLabels:c().shape({dropdownButton:c().string,menu:c().string,open:c().string,close:c().string}),id:c().string,forwardedRef:c().any};const q=o().forwardRef(((e,n)=>o().createElement(_,t({forwardedRef:n},e))));function K(){return o().createElement("hr",{role:"presentation",className:"dropdown-divider"})}function H(e){let{children:t}=e;return o().createElement("div",{role:"heading","aria-level":"1",className:"dropdown-header title small"},t)}H.propTypes={children:c().node.isRequired};const Z=["isSelected","type","disabled","tabIndex"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?U(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class W extends r.PureComponent{onKeyDown(e){~this.tabIndex&&" "===e.key&&(e.preventDefault(),"function"==typeof this.props.onChange&&this.props.onChange())}render(){const e=this.props;return o().createElement("label",{role:"option",className:e.className,onChange:e.onChange,tabIndex:e.tabIndex,onKeyDown:this.onKeyDown,"aria-selected":e.isSelected,ref:e=>{this.componentRef=e}},o().createElement("input",{onChange:function(){},role:"menuitemcheckbox",type:"checkbox",tabIndex:"-1",name:e.name,value:e.value,checked:e.isSelected,"aria-checked":e.isSelected})," ",e.children)}}W.propTypes={className:c().string,children:c().node,isSelected:c().bool,name:c().string,value:c().oneOfType([c().string,c().number]),onChange:c().func,itemIndex:c().number,tabIndex:c().oneOf([-1,0])};class z extends r.Component{getRef(){return this.componentRef instanceof W?this.componentRef.componentRef:this.componentRef}render(){const e=this.props,{isSelected:n,type:r,disabled:s,tabIndex:i}=e,l=v(e,Z),c=(0,y.Z)(l.className,"dropdown-item",{active:e.active,disabled:s});if("multiselect"===r)return o().createElement(W,t({},e,{isSelected:n,ref:e=>{this.componentRef=e},className:c}));const a=D()(l,"active","isSelected");return o().createElement(a.href?"a":"span",V(V({},a),{},{disabled:s,className:c,ref:e=>{this.componentRef=e},role:"option","aria-selected":n,tabIndex:i,"aria-disabled":s}))}}z.defaultProps={tabIndex:0},z.propTypes={disabled:c().bool,active:c().bool,type:c().string,href:c().string,isSelected:c().bool,tabIndex:c().oneOf([-1,0])};const F=z;function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var X=s(432),Y=s.n(X);const J=["menuAlignment","alignmentOverride","enableFullscreen","ariaLabels","id"],Q="dropdown-menu-left",ee="dropdown-menu-right",te={left:"left",right:"right",preferLeft:"preferLeft",preferRight:"preferRight"},ne={[te.preferLeft]:!0,[te.preferRight]:!0},re={[te.left]:Q,[te.right]:ee,[te.preferLeft]:Q,[te.preferRight]:ee},oe=Object.keys(te).map((e=>te[e])),se=c().oneOf(oe);class ie extends r.Component{constructor(){super(...arguments),this.onKeyDown=this.onKeyDown.bind(this)}children(){const t=this.props;let n=0;return o().Children.map(t.children,(t=>t.type!==K&&t.type!==H?function(t,n,r){if(!o().isValidElement(n))return n;const s=n.props,{listener:i,selected:l}=function(e){return{listener:"multiselect"===e.props.type?"onChange":"onClick",selected:e.props.selected||[]}}(t),{active:c,isSelected:a}=function(e,t,n,r){let o,s;return"multiselect"===e.props.type||-1!==e.props.keyboardSelectionIndex?(s=n.includes(r),r!==e.props.keyboardSelectionIndex||t.props.disabled||(o=!0)):o=n.includes(r),o=!e.props.contextmenu&&(t.props.active||o),{active:o,isSelected:s}}(t,n,l,r),d=t.props.menuRef||t;return(t.props.type.includes("select")||t.props.type.includes("inline")||t.props.type.includes("primary")||"tripledot"===t.props.type||"custom"===t.props.type)&&n.type===F?o().cloneElement(n,{isSelected:a,active:c,name:t.props.name,ref:e=>{d.dropdownItem=e},type:t.props.type,href:s.href||"#",[i]:n=>{(s.disabled||"#"===s.href||"onClick"===i)&&n.preventDefault(),s.disabled||t.props.onChange(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?G(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({itemIndex:r,active:!c},s),n,s[i])}}):o().cloneElement(n,{active:c,ref:e=>{d.dropdownItem=e}})}(this,t,n++):t))}onKeyDown(e){!e.key||"Escape"!==e.key&&"Esc"!==e.key&&"Enter"!==e.key&&"Return"!==e.key||this.props.toggle()}render(){const e=this.props,{menuAlignment:t=te.left,alignmentOverride:n,enableFullscreen:r,ariaLabels:s,id:i}=e,l=v(e,J),c=re[n]||re[t]||Q,a=ne[t]?"dropdown-menu-autoalign":null,d=r?"full-screen":null;return o().createElement("div",{className:(0,y.Z)("dropdown-menu",c,a,d)},o().createElement("div",{className:"dropdown-overlay",onClick:l.toggle,onKeyDown:l.toggle,role:"button",tabIndex:-1}),o().createElement("div",{className:"dropdown-menu-background",ref:e=>this.wrapper=e,role:"listbox","aria-label":s.menu,id:i?`${i}-menu`:void 0,"aria-multiselectable":"multiselect"===l.type||null},o().createElement(p(),{className:"dropdown-close",design:"inline",onClick:l.toggle,"aria-label":s.close,icon:o().createElement(Y(),null)}),o().createElement("div",{className:"dropdown-list"},this.children())))}}ie.propTypes={alignmentOverride:c().oneOf([te.left,te.right]),menuAlignment:se,enableFullscreen:c().bool,onChange:c().func,onKeyDown:c().func,selected:c().array,toggle:c().func,ariaLabels:c().shape({close:c().string,menu:c().string}),type:c().string,children:c().node,id:c().string},ie.defaultProps={menuAlignment:te.left,toggle:()=>{},ariaLabels:{close:"Close",menu:"Menu items"},selected:[],type:"button"};const le=ie;function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ce(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class de extends r.Component{render(){return["select","tripledot","custom"].includes(this.props.type)?o().createElement("input",t({},this.props,{type:"hidden",readOnly:!0})):null}}de.propTypes={type:c().oneOf(h)};class pe extends m{constructor(){super(...arguments),this.hideHandle=null,this.selectItem=this.selectItem.bind(this),this.toggleBackground=this.toggleBackground.bind(this),this.element=o().createRef(),this.dropdownRef=o().createRef(),this.ariaLabels=ae(ae({},pe.defaultProps.ariaLabels),this.props.ariaLabels),this.focusDropdown=this.focusDropdown.bind(this)}focusDropdown(){this.dropdownRef.current.focus()}componentWillUnmount(){document.removeEventListener("click",this.hideHandle||this.hide),this.hideHandle=null}componentDidUpdate(e,n){super.componentDidUpdate(e);const r=this.element.current&&this.element.current.querySelector(".active"),{open:o}=this.state;if(o&&o!==n.open){const e=t({},this.getElementBounds());let n=this.getHorizontalRender(e);n=ae(ae({},n),this.getVerticalRender(e)),Object.keys(n).length>0&&this.setState(n)}o&&r&&(0,O.Z)(r)}getElementBounds(){const e={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight},t=this.element.current&&this.element.current.getBoundingClientRect(),n=this.menuElement&&this.menuElement.wrapper&&this.menuElement.wrapper.getBoundingClientRect(),r=this.componentLabel&&this.componentLabel.getBoundingClientRect(),o=this.menuElement&&this.menuElement.dropdownItem&&this.menuElement.dropdownItem.getRef&&this.menuElement.dropdownItem.getRef(),s=o&&o.getBoundingClientRect();return{viewportBounds:e,elementBounds:t,menuBounds:n,labelBounds:r,itemHeight:s&&s.height||45}}getVerticalRender(e){const t={},{viewportBounds:n,elementBounds:r,menuBounds:o,labelBounds:s,itemHeight:i}=e,l=s&&s.height>0;if(this.state.hasLabel!==l&&(t.hasLabel=l),r){const e=r.top+r.height+o.height-i/2,s=n.height<e,l=r.top-o.height>0,c=s&&l;this.state.showUp!==c&&(t.showUp=c)}return t}getHorizontalRender(e){const t={};if(ne[this.props.menuAlignment]||!this.props.menuAlignment){const{elementBounds:n,menuBounds:r,viewportBounds:o}=e;if(n&&r){const e=n.right+o.x-window.document.documentElement.clientLeft-r.width,s=n.left+o.x-window.document.documentElement.clientLeft+r.width;let i;o.width-s<10&&r.width<o.width?i=te.right:e<10&&(i=te.left),this.state.alignmentOverride!==i&&(t.alignmentOverride=i)}}return t}toggleBackground(e){this.props.enableFullscreen&&(e?document.body.classList.add("dropdown-open"):document.body.classList.remove("dropdown-open"));const{open:t,selected:n}=this.state,{required:r}=this.props;!t&&0===n.length&&r?this.setState({error:!0}):n.length>0&&r&&this.setState({error:!1})}control(e){const{placeholder:t,type:n,disabled:r,toggleIcon:s,content:i,size:l,merch:c,id:a,tabIndex:d}=this.props,p=this.dropdownRef,u=e.filter((e=>e.type===q))[0]||o().createElement(q,{id:a?`${a}-control`:void 0});return o().cloneElement(u,{"aria-labelledby":this.props.label&&`${a}-label`,ariaLabels:this.ariaLabels,"aria-controls":a?`${a}-menu`:void 0,children:u.props.children||this.getSelectedItem(e)||t,hasPlaceholder:!(u.props.children||this.getSelectedItem(e)||!t),ref:p,key:"control",id:a?`${a}-control`:void 0,toggle:this.show,open:this.state.open,type:n,onKeyDown:this.keyDown.bind(this),disabled:r,toggleIcon:s,content:i,size:l,merch:c,tabIndex:d})}items(e){return e.filter((e=>e.type!==q&&e.type!==H&&e.type!==K))}render(){const{keyboardSelectionIndex:e,open:n,showUp:s,hasLabel:i,error:l}=this.state,c=ae(ae({},this.props),{},{keyboardSelectionIndex:e,onChange:this.selectItem,onToggle:this.toggle}),a=c.type.includes("select"),d="tripledot"===c.type;c.menuAlignment=c.menuAlignment||(d?te.preferRight:te.left);const p=o().Children.toArray(c.children),u=c.disabled,f=(c.label||c.required)&&o().createElement(r.Fragment,null,c.label&&o().createElement("label",{id:`${c.id}-label`,key:"label",onClick:this.focusDropdown,onKeyPress:this.focusDropdown,ref:e=>{this.componentLabel=e}},c.label),c.required&&o().createElement("span",{className:"text-danger"},"*")),h=(0,y.Z)(c.className,{"ux-select-dropdown":a},"dropdown",{"triple-dot-dropdown btn btn-link":d,"dropdown-disabled disabled":u,open:n,"menu-up":s,"has-label":i,"full-screen":this.props.enableFullscreen,error:l}),m=c.elementType;return o().createElement(w.Z,{targetRef:this.element,onClick:this.hide},o().createElement(m,{ref:this.element,id:c.id,className:h,"aria-expanded":n,role:"combobox","aria-label":this.ariaLabels.label},f,this.control(p),o().createElement(de,{key:"value",type:c.type,value:c.value,name:c.name}),o().createElement(le,t({key:"menu"},c,{ref:e=>{this.menuElement=e},toggle:this.toggle,ariaLabels:{close:this.ariaLabels.close,menu:this.ariaLabels.menu},selected:this.selected,alignmentOverride:this.state.alignmentOverride,keyboardSelectionIndex:this.state.keyboardSelectionIndex}),p.filter((e=>e.type!==q))),l&&c.required&&o().createElement("span",{className:"form-error",role:"alert"},c.required)))}}pe.defaultProps=ae(ae({},b),{},{type:"button",elementType:"div",enableFullscreen:!0,ariaLabels:{close:"Close",menu:"Menu Options",label:"Menu"}}),pe.propTypes=ae(ae({},g),{},{tabIndex:c().oneOf([-1,0]),id:c().string,type:c().oneOf(h),elementType:c().string,alignment:se,enableFullscreen:c().bool,ariaLabels:c().shape({close:c().string,menu:c().string,label:c().string}),children:(0,n.Z)([q,F,K,H]),required:c().oneOfType([c().node,c().bool])}),pe.DropdownControl=q,pe.DropdownDivider=K,pe.DropdownHeader=H,pe.DropdownItem=F;const ue=pe})(),i.default})()));