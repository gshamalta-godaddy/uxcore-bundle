# @ux/field-frame

This component is only the frame that may visually connect form inputs together into one control. It is required when using `<TextInput/>` but could also be used with a limited number of other approved components and elements.

## Installation

```sh
npm i @ux/field-frame
```

## Usage

```js
import FieldFrame from '@ux/field-frame';
import TextEntry from '@ux/text-entry';

export default function (props) {
  return <>
    <label htmlFor='my-input'>Username</label>
    <FieldFrame>
      <TextEntry id='my-input'/>
    </FieldFrame>
  </>
}
```

The `<TextEntry/>` component is designed to be _visually invisible_ without the `<FieldFrame/>` component; which provides a border (or other affordance) to signify a field for text input. The purpose of separation for these parts is to allow for other components (eg. `<Button/>`) to appear within the frame.

## Props
| Prop | Type | Description |
| ---- | ---- | ----------- |
| `children` | `Node` | Adds children to the frame, only `<Button/>` `<TextEntry/>`, `<Select/>` `<Icon/>` `<hr/>` elements are currently allowed. |
| `className` | `String` | Sets a classname on the root component for use in layout placement. |
| `disabled` | `Boolean` | Sets `disabled` on the `<input/>`. |
| `invalid` | `Boolean` | Set style and properties to reflect invalid state. |
| `flyoutPlacement` | `'top'` `'bottom'` | Used in conjunction with a `@ux/flyout` child, makes style changes to support flyout direction |
| `stretch` | `Boolean` | Stretches the width of the container. |

### Use with `@ux/flyout`

The usage of `@ux/field-frame` and `@ux/flyout` is special as most cases require the components to be visually joined. We support this with the following pattern:

```jsx
export default function MyFormComponentFlyout() {
  const anchorRef = useRef(null);
  const [show, setShow] = useState(false);

  // Attempt to set the initial placement, update when it changes
  const [placement, setPlacement] = useState('top');

  return (
    <FieldFrame ref={ anchorRef } flyoutPlacement={ show && placement }>
      <Button text='With a button' onClick={ () => setShow(!show) }/>
      { show && <Flyout 
        anchorRef={ anchorRef }
        // We don't set the placement state here, this should stay as the initial value. Think of this as default placement.
        placement='top'
        onPlacement={ setPlacement }
        stretch={ true }>
        My form flyout content goes here.
      </Flyout> }
    </FieldFrame>
  );
}
```