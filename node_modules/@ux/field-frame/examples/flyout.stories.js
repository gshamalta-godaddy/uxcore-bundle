import FieldFrame from '../src';
import Button from '@ux/button';
import Flyout from '@ux/flyout';
import React, { useRef, useState } from 'react';

export default function FlyoutExample() {
  const anchorRef = useRef(null);
  const [show, setShow] = useState(false);

  // Attempt to set the initial placement, update when it changes
  const [placement, setPlacement] = useState('top');

  return (
    <FieldFrame ref={ anchorRef } flyoutPlacement={ show && placement }>
      <Button text='With a button' onClick={ () => setShow(!show) }/>
      { show && <Flyout
        anchorRef={ anchorRef }
        // We don't set the placement state here, this should stay as the initial value
        placement='top'
        onPlacement={ setPlacement }
        stretch={ true }>
        flyout content
      </Flyout> }
    </FieldFrame>
  );
}
