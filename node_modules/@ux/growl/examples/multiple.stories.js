import Growl from '../src';
import Button from '@ux/button';
import React from 'react';

const GROWL_FADE_TIME = 10000;

function flood() {
  Growl.addGrowlMessage({
    title: 'Success',
    content: 'Action completed successfully',
    icon: 'success',
    fadeTime: GROWL_FADE_TIME
  });
  setTimeout(() => Growl.addGrowlMessage({
    title: 'Warning',
    content: 'Oh dear, multiple messages are being sent',
    icon: 'warning',
    fadeTime: GROWL_FADE_TIME
  }), 10);

  setTimeout(() => Growl.addGrowlMessage({
    title: 'Error',
    content: 'Bad news bears',
    icon: 'critical',
    fadeTime: GROWL_FADE_TIME
  }), 100);
}

export default function Multiple() {
  return (
    <>
      <Growl />
      <Button
        aria-haspopup={ true }
        onClick={ () => { flood(); } }
        id='multiple-growl-button'
        text='Flood my screen!'/>
    </>
  );
}
