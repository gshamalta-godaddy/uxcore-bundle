# Icon

The Icon library for UXCore2. It allows you to easily render all available
UXCore2 icons.

## Table of Contents

- [Installation](#installation)
- [Usage](#usage)
- [Progressive Enhancement](#progressive-enhancement)
- [Development](#development)

## Installation

The module is published in our Artifactory service under the `@ux` scope and can
be installed by running.

```
npm install --save @ux/icon
```

## Usage

Each exposed Icon inherits the same base component that is used to render
the desired SVG icon. The contents of the SVG are stored in the CSS file that
can be found in the same folder as icon you've imported:

```css
@import "@ux/icon/cloud-upload/index.css";
```

And should be bundled with your applications CSS in order for the icon to
function.

```js
import Upload from '@ux/icon/cloud-upload';

<Upload />
```

All props that are supplied are spread on the `<use>` element that references
the icon from our SVG manager. This allows you to use props like `fill` to
override the colors, strokes and what not. The only notable exceptions to this
rule are the following properties:

- `width` **number**, Width of the icon, applied to the `svg` element.
- `height` **number**, Height of the icon, applied to the `svg` element.
- `className` **string**, ClassName of the icon, applied to the `svg` element.
- `desc` **string**, Description of the icon, used as `<desc>` element.
- `title` **string**, Title of the icon, used as `<title>` element.
- `role` **string**, The role attribute for the svg, defaults to `img`.
- `placeholder` **object**, Placeholder icon to render while CSS is still loading.
  Also allows you to render an icon server side.

```js
import Upload from '@ux/icon/cloud-upload';

<Upload width={ 100 } height={ 200 } />
```

When the component is rendered server side it does **not** render the SVG
icon and this is intended as you would end up shipping duplicate icon payload,
once as rendered HTML, and once in the CSS. So instead, it would now render
the SVG icon once your React application is rehydrated.

## Progressive Enhancement

> THIS FUNCTIONALITY IS RELEASED DEPRECATED. THIS ONLY EXISTS TO EASE THE
> TRANSITION TO THE NEW VERSION.

The progressive enhancement script transforms elements that have `.uxicon`
assigned to them and applies the following transformations:

- Append the actual icon as `<svg>` element.
- Removes the `uxicon-<name>` class from the element.
- Removes the `uxicon` class from the element.
- Add the `uxicon-enhanced` class to the element.

These transformations automatically happen when the script is first executed
and when new DOM elements are inserted into the page.

The appended `<svg>` will automatically inherit the color from any assigned CSS
`color` property.

Again we would like to point out: **USING CSS CLASSES FOR ICONS IS DEPRECATED**

The progressive enhancement script is ran automatically as part of UXCore2, but
if you wish to run it manually:

```js
import from '@ux/icon/enhance.js';
```


## Development

To develop locally for this module use `@storybook/react` and
`@exemplar/storybook-react`:

```
npm run storybook
```

For those interested in making changes to the infrastructure of this package,
these files are compiled from the
[`@ux/icon-generator`](../../../../utils/icon-generator) package. Changes to the
source should be completed there instead of this package.
