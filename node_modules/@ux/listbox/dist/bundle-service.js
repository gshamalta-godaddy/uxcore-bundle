/*! For license information please see bundle-service.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("@ux/text").default):"function"==typeof define&&define.amd?define(["react","prop-types","@ux/text"],t):"object"==typeof exports?exports.ux=t(require("react"),require("prop-types"),require("@ux/text").default):(e.ux=e.ux||{},e.ux.Listbox=t(e.React,e.PropTypes,e.ux.Text))}(self,((e,t,r)=>(()=>{var n={434:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=l.apply(null,r);i&&e.push(i)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(r=function(){return l}.apply(t,[]))||(e.exports=r)}()},258:(e,t,r)=>{"use strict";var n=r(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.ensureLabelComponent=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?"object"==typeof e&&e.type===u?e:l.default.createElement(u,t,e):null};var l=n(r(899)),a=n(r(189)),i=n(r(434)),o=n(r(722)),s=n(r(345));const u=l.default.forwardRef((function(e,t){const{children:r,className:n,float:a,htmlFor:u,id:d,internal:c,required:f}=e;return l.default.createElement("label",{className:(0,i.default)("ux-label",n,{[(0,s.default)({as:"label"})]:!c,"ux-label--internal":c,"ux-label--floating":a&&c}),htmlFor:u,id:d,ref:t},r,f&&l.default.createElement(o.default.span,{"aria-hidden":!0,className:"ux-label-required",emphasis:"object"==typeof f&&f.emphasis||"critical",text:"object"==typeof f&&f.text||"*"}))}));u.propTypes={children:a.default.node.isRequired,className:a.default.string,float:a.default.bool,htmlFor:a.default.string.isRequired,id:a.default.string,internal:a.default.bool,required:a.default.oneOfType([a.default.bool,a.default.shape({emphasis:a.default.string,text:a.default.node})])},u.displayName="Label";var d=u;t.default=d},183:(e,t,r)=>{"use strict";var n=r(55);t.Z=void 0;var l=n(r(237)),a=n(r(14)),i=n(r(899)),o=n(r(189)),s=n(r(434)),u=n(r(258)),d=n(r(722)),c=n(r(345));const f=["children","className","divider","gap","id","invalid","label","helpMessage","errorMessage","required","orientation","stretch","wrap"],p=i.default.forwardRef((function(e,t){const r=e||{},{children:n,className:o,divider:p,gap:b,id:v,invalid:x,label:h,helpMessage:m,errorMessage:g,required:y,orientation:O="horizontal",stretch:E,wrap:q}=r,N=(0,a.default)(r,f);if(delete N.style,!n)return null;const j=h&&v&&`${v}-label`,w=m&&v&&`${v}-help`,M=g&&v&&`${v}-error`;return i.default.createElement("div",{className:(0,s.default)("ux-sibling-set",o,`ux-sibling-set-${O}`,{[`ux-sibling-set-gap-${b}`]:b,"ux-sibling-set--stretch":E,"ux-sibling-set--wrap":q}),role:"group","aria-labelledby":j,"aria-describedby":[w,M].filter(Boolean).join(" ")},j&&i.default.createElement(u.default,{className:"ux-sibling-set-label",id:j,htmlFor:v,required:y},h),p&&i.default.createElement("hr",null),i.default.createElement("div",(0,l.default)({id:v,ref:t,"aria-invalid":x,className:(0,c.default)({className:"ux-sibling-set-children",emphasis:x?"critical":null}),style:{"--ux-siblingset-amount":n.length}},N),n),m&&i.default.createElement(d.default.p,{text:m,as:"caption",id:w,emphasis:"passive"}),g&&i.default.createElement(d.default.p,{text:g,as:"caption",id:M,emphasis:"critical",role:"alert"}))}));function b(e,t,r){const n=e.label&&!e.id,l=e.helpMessage&&!e.id,a=e.errorMessage&&!e.id;return n||l||a?new Error("When using a label, helpMessage or errorMessage, the 'id' prop is required"):o.default.checkPropTypes({[t]:o.default.node},e,t,r)}p.propTypes={children:o.default.node,className:o.default.string,divider:o.default.bool,gap:o.default.oneOf(["sm","md","lg"]),id:b,invalid:o.default.oneOfType([o.default.bool,o.default.oneOf(["grammar","spelling"])]),label:b,helpMessage:b,errorMessage:b,orientation:o.default.oneOf(["horizontal","vertical"]),required:u.default.propTypes.required,stretch:o.default.bool,wrap:o.default.bool},p.displayName="SiblingSet";var v=p;t.Z=v},345:(e,t,r)=>{"use strict";var n=r(55);Object.defineProperty(t,"__esModule",{value:!0}),t.asOptions=void 0,t.default=function(e){const{as:t,className:r,emphasis:n,size:a}=e||{};return(0,l.default)(s,r,{[`ux-text-size${a}`]:"number"==typeof a&&a>=-2&&a<6,[`ux-text-${t}`]:t&&i.includes(t),[`ux-text-feedback-${n}`]:n&&o.includes(n)})},t.emphasisOptions=void 0;var l=n(r(434)),a=n(r(736));const i=["title","heading","paragraph","action","input","label","caption"];t.asOptions=i;const o=Object.values(a.default).map((e=>e.toLowerCase()));t.emphasisOptions=o;const s="ux-text"},736:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={CRITICAL:"Critical",SUCCESS:"Success",WARNING:"Warning",INFO:"Info",HIGHLIGHT:"Highlight",NEUTRAL:"Neutral",INTERNAL:"Internal",PASSIVE:"Passive",PREMIUM:"Premium"}},189:e=>{"use strict";e.exports=t},899:t=>{"use strict";t.exports=e},722:e=>{"use strict";e.exports=r},237:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},55:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},14:(e,t,r)=>{var n=r(98);e.exports=function(e,t){if(null==e)return{};var r,l,a=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)r=i[l],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},98:e=>{e.exports=function(e,t){if(null==e)return{};var r,n,l={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(l[r]=e[r]);return l},e.exports.__esModule=!0,e.exports.default=e.exports}},l={};function a(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return n[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";a.d(i,{default:()=>f});var e=a(899),t=a.n(e),r=a(189),n=a.n(r),l=a(434),o=a.n(l),s=a(183);function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const n=e.findIndex((e=>e.id===t)),l=-1===n?0:n,a=Math.max(0,Math.min(e.length-1,l+r));return e[a].id}function d(e){const{id:r,as:n,isSelected:l,isFocused:a,onSelect:i,children:o}=e;return t().createElement("div",{id:r,className:"ux-button",tabIndex:-1,role:"menu"===n?"menuitem":"option","data-visually-focused":a||null,"aria-selected":l||null,onClick:i},o)}d.propTypes={id:n().string.isRequired,as:n().string.isRequired,isSelected:n().bool.isRequired,isFocused:n().bool.isRequired,onSelect:n().func.isRequired,children:n().node.isRequired};const c=t().forwardRef((function(r,n){const{id:l,as:a="listbox",stretch:i,className:c,items:f=[],tabIndex:p="0",onConfirm:b=Function.prototype,selected:v,onActiveItemChange:x=Function.prototype,loop:h=!1,anchorRef:m}=r||{},g=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);return n.length<=1?n[0]:function(e){n.forEach((function(t){"function"==typeof t?t(e):t.current=e}))}}((0,e.useRef)(null),n),[y,O]=(0,e.useState)(null),E=null!=y&&"undefined"!==y?y:v,q=(0,e.useCallback)(((e,t)=>{O(e),x(e,t)}),[O,x]);(0,e.useEffect)((()=>{if(y)return[].concat(f).find((e=>(null==e?void 0:e.id)===y))?void 0:q(null,{event:null})}),[y,f,q]);const N=(0,e.useCallback)((e=>t=>{var r,n,l,a;b(e,{event:t}),null!==(r=g.current)&&void 0!==r&&null!==(n=r.matches)&&void 0!==n&&n.call(r,":focus-within")&&(null==m||null===(l=m.current)||void 0===l||null===(a=l.focus)||void 0===a||a.call(l))}),[b,m,g]),j=(0,e.useCallback)((e=>{const t=f[0].id,r=f[f.length-1].id;let n;switch(e.key){case"ArrowDown":e.preventDefault(),e.stopPropagation(),n=!E||h&&r===E?t:u(f,E,1);break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),n=!E||h&&t===E?r:u(f,E,-1);break;case"Home":e.preventDefault(),e.stopPropagation(),n=t;break;case"End":e.preventDefault(),e.stopPropagation(),n=r;break;case"Enter":if(null==E)return!1;e.preventDefault(),e.stopPropagation(),N(E)(e),n=E}n!==E&&q(n,{event:e})}),[f,h,E,N,q]);(0,e.useEffect)((()=>{const e=null==m?void 0:m.current;return null==e||e.addEventListener("keydown",j),()=>null==e?void 0:e.removeEventListener("keydown",j)}),[m,j]),(0,e.useEffect)((()=>{const e=null==m?void 0:m.current;return E&&(null==e||e.setAttribute("aria-activedescedent",E)),()=>null==e?void 0:e.removeAttribute("aria-activedescedent")}),[m,E]);const w=(0,e.useCallback)((e=>{var t,r;null!==(t=g.current)&&void 0!==t&&null!==(r=t.matches)&&void 0!==r&&r.call(t,":focus-within")||q(null,{event:e})}),[g,q]);return 0===f.length?null:t().createElement(s.Z,{ref:g,id:l,orientation:"vertical",stretch:i,className:o()("ux-listbox",c),role:"menu"===a?"menu":"listbox",tabIndex:p,onBlur:w,onKeyDown:j,"aria-activedescendant":m?null:E},[].concat(f).map((e=>t().createElement(d,{key:e.id,id:e.id,as:a,isSelected:v===e.id,isFocused:E===e.id,onSelect:N(e.id)},e.children))))}));c.propTypes={id:n().string,as:n().oneOf(["listbox","menu"]),stretch:n().bool,items:n().arrayOf(n().shape({id:n().string.isRequired,children:n().node.isRequired})).isRequired,tabIndex:n().oneOfType([n().string,n().number]),onConfirm:n().func,selected:n().string,onActiveItemChange:n().func,loop:n().bool,anchorRef:n().object},c.displayName="Listbox";const f=c})(),i.default})()));