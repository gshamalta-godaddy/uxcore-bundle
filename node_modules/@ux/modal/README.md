# Modal

An UXCore rendered modal dialog component for React.

## Installation

The module is released in our private artifactory registry under the `@ux`
namespace and can be installed by running:

```
npm install --save @ux/modal
```

## To run this component locally

To develop locally for this module use `@ux/preview`:

```sh
npm run preview
```

## Usage

```jsx
import { Modal, text } from '@ux/uxcore2';
import React from 'react';

export default function Example() {
  return (
    <Modal id='default-example' title={ <text.h2 text='Title of the modal' as='title'/> }>
      This is an example modal
    </Modal>
  );
}
```

## Props

Props are inherited from `@ux/disrupt` and `@ux/dialog` 

Prop | Type | Description |
| ---- | ---- | ----------- |
| `actions` | `Elements` | The actions that a user can take after reading the contents of the notification. These are expected to be `@ux/button` components. |
| `ariaLabels` | `Object` | A configuration object of aria-labels to be added within the component. The `close` value is added to the close button when provided. |
| `children` | `Node` | Adds children to the content container. |
| `id` | `String` | Provides an accessibility relationship between the `title` and the component. |
| `onClose` | `Function` | The callback that fires once the user attempts to dismiss the notification. |
| `onEventBehind` | `Function` | Fires when an event occurs _behind_ the disruption. |
| `portalElem`| `DOM element` | The element to attach the component, defaults to `document.body` |
| `stretch` | `Boolean` | Stretches the width of the container. |
| `title` | `String` | The title for the notification. This is expected to be a `@ux/text` component. |

### Migrating to 2200
- Component inherits all props from `@ux/disrupt` and `@ux/dialog`.
- Related to previous point, the `title` and `id` props are now required for accessibility.

- Delivered as a functional component, you can no longer customize the pieces of the modal using this package. You may instead
use `@ux/disrupt` and create custom content within it to achieve custom experiences.
- Showing / hiding this component is done through conditional rendering.
- No styles can be overridden directly, it must be done through the theme.
- The `animate` prop is deprecated, animations are determined from the component itself.
- The `target` prop is deprecated, if you need a different target use the `@ux/disrupt` component.
- The `backdrop` prop is deprecated, all modals have backdrops.
- The `closeButton` prop is deprecated, to add a close button provide the `onClose` callback.
- The `disableAutoClose` prop is deprecated, to stop the modal from being closed, do not provide the `onClose` callback.
- The `className`/`style` props are deprecated, no class names or styles can affect the modal. If you wish to customize the contents, use `@ux/disrupt`.
- The `header` prop is deprecated. The `title` prop expects a `@ux/text` component but can accept a string for legacy support.
- The `footer` prop is deprecated. Adding actions to the `footer` is done by supplying `@ux/button` components to the `actions` prop.
- The `body` prop is deprecated, use `children` instead.

## Test

To run tests for this component:

```bash
npm test
```

# Documentation Generation

The `docgen` script has a regular expression that ignores all files except for `modal.js`.  `package.json` is very finicky with regular expressions as arguments in scripts so we had to escape the regular expression's escape characters.  Feel free to reach out to @gwall1 or @kbehari if you have any questions.
