import Modal from '../src';
import text from '@ux/text';
import Button from '@ux/button';
import React from 'react';

import Datepicker from '@ux/datepicker';
import Dropdown from '@ux/dropdown';

import '@ux/datepicker/src/styles';

const { DropdownItem } = Dropdown;

export default function NestedExample() {
  const [show, setShow] = React.useState(false);
  const [show2, setShow2] = React.useState(false);
  const title = <text.h2 text='Title of the modal' as='title'/>;
  const modal2 = (
    <Modal id='default-example' title={ title } onClose={ (e) => {
      console.log(e);
      setShow2(false);
    }  }>
      <label htmlFor='startDate'>Start Date</label>
      <Datepicker
        id='startDate'
        startDate={ new Date('February 14, 2015') }
        locale='en' />

      <label htmlFor='fruit'>Choose Fruit</label>
      <Dropdown type='select' name='myDropdown' id='fruit'>
        <DropdownItem>Bananas.</DropdownItem>
        <DropdownItem><i>Apple</i></DropdownItem>
        <DropdownItem>Peach</DropdownItem>
        <DropdownItem>Orange</DropdownItem>
      </Dropdown>
    </Modal>
  );

  const modal = (
    <Modal id='default-example' title={ title } onClose={ (e) => {
      console.log(e);
      setShow(false);
    } }>
      This is an example modal <Button aria-haspopup='true' design='primary' onClick={ () => { setShow2(true); } } text='Open Modal 2'/>
      { show2 && modal2 }
    </Modal>
  );

  return (
    <>
      <Button aria-haspopup='true' design='primary' onClick={ () => { setShow(true); } } text='Open Modal'/>
      { show && modal }
    </>
  );
}
