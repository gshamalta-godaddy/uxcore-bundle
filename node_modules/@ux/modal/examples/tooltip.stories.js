import Modal from '../src';
import text from '@ux/text';
import Button from '@ux/button';
import Tooltip from '@ux/tooltip';
import lipsum from 'bob-ross-lipsum';
import React from 'react';

import '@ux/tooltip/src/styles';

export default function TooltipExample() {
  const [modal, setModal] = React.useState(false);
  const [tooltip, setTooltip] = React.useState(false);
  const anchorRef = React.useRef(null);

  const title = <text.h2 text='Title of the modal' as='title'/>;
  const anchor = <Button ref={ anchorRef } text='tooltip' onClick={ () => setTooltip(!tooltip) } design='inline'/>;

  return (
    <>
      <Button aria-haspopup='true' design='primary' onClick={ () => { setModal(true); } } text='Open Basic Modal with tooltip'/>
      { modal && <Modal id='tooltipExample' title={ title } onClose={ () => setModal(false) }>
        <figure>
          { anchor }
          { tooltip && <Tooltip anchorRef={ anchorRef }>{lipsum(2)}</Tooltip> }
        </figure>
        <figure>
          { lipsum(10) }
        </figure>
      </Modal> }
    </>
  );
}
