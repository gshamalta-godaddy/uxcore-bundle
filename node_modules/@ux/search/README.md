# @ux/search

React component that composes the attributes to engage a search.

## Install
```bash
npm install @ux/search 
```

> To develop locally for this module use `@storybook/react` and `@exemplar/storybook-react`:
> ```
> npm run storybook
> ```

## Usage
The search component allows you to display a text box and a button.  

```jsx
import { Search } from '@ux/uxcore2';
import React from 'react';

export default function Example () {
  return (
    <form role='search'>
      <Search placeholder="What are you looking for?" />
    </form>
  );
}
```


## Props
Majority of props are defined in the composition from `@ux/text-entry` and `@ux/field-frame`. Unique props to `@ux/search` are below:
| Prop | Type | Description |
| ---- | ---- | ----------- |
| `ariaLabels` | `Object` | A collection of `aria-labels` to assign to the internals |
| `ariaLabels.clear` | `String` | The label for the clear button |
| `button` | `Element` | A `@ux/button` supplied to execute a search |
| `className` | `String` | The class name for the root component |
| `divider` | `Boolean` | Provides a divider between the input and button |
| `items` | `Array<Node>` | Generates list of results using a `<Listbox/>` |
| `open` | `Boolean` | If content is set within the list, this controls visibility. Defaults to `true` |

## `onChange`

The `onChange` signature for this component is provided as the following:

```js
onChange(theUpdatedValueExpected, { event: theOriginalEventFired });
```

## Test
Tests are written with `mocha`, `enzyme`, `chai` and `sinon`. They can be run with `npm`.

```bash
npm test
```

## Breaking changes in 2102

The following changes have been made to this component in v2102:
- **The component does not currently allow for a flyout of results.** We expect to include this as a fast-follow once all other `@ux/form-element` components are recomposed.
- **There is currently only one size.** More sizes may be added once the initial work of recomposition is complete.
- Component is no longer dependent on `@ux/form-element` or related packages.
- Now provided as a functional component with a forwarded ref.
- There is no validation built into this component. Determining if the component should be set as `invalid` is up to the developer using it.
- The `id` prop is **required** for accessibility and native functionality.
- Clearable functionality is provided when the `onClear` function is set. When this triggers, it is up to the developer to clear the value from the app state. An example is available in this package. 