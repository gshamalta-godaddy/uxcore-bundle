import { marketFonts, marketGroups } from '../variables/_markets';
import { uxcoreMarket,  uxcoreRegion } from '../variables/uxvars';

const marketingFontKeys = ['marketing', 'sage', 'sage-bold'];

const hasOwnProperty = Object.prototype.hasOwnProperty;

export function marketGroup() {
  const group = marketGroups[uxcoreMarket];
  if (typeof group === 'string') return group;
  if (typeof group === 'object' && hasOwnProperty.call(group, uxcoreRegion)) {
    return group[uxcoreRegion];
  }
  return 'brand';
}

export function marketFont(font = 'base', property = 'family') {
  const mktGroup = marketGroup();
  const weights = marketFonts[mktGroup];
  let fontMap = weights[font];

  if (typeof fontMap === 'undefined') {
    if (marketingFontKeys.includes(font)) {
      fontMap = weights['primary-bold'];
    } else {
      fontMap = weights.base;
    }
  }

  return fontMap[property];
}
