# Tooltip Component

## NOTE: This is the legacy `@ux/tooltip` component for the current vesrion please see this [README](../../components/pagination/README.md)

UXCore2 Tooltip component. Tooltips are small messages floating near their anchor. By default they're
toggled by clicking/tapping - not by hovering - to support touch devices. However, it is configurable
to open at hover as well.

### Installation

The module is released in our private npm registry under the `@ux` scope and can
be installed by running:

```bash
npm install --save @ux/tooltip
```

> To develop locally for this module use `@storybook/react` and `@exemplar/storybook-react`:
> ```
> npm run storybook
> ```

### Usage

Tooltips wrap a component. That component or text will be used as anchor to position the Tooltip correctly.
The tooltip will stick to the anchor on window resizes. It is always displayed above or below
(if space above the anchor is not adequate) the anchor.

Please make sure to refer to the [examples page](https://gxsys.uxp.int.godaddy.com/components/tooltip?docType=engineer&palette=godaddy&font=brand)
documenting the guidelines for usage of the components. Mobile First design principles are required in
order to provide consistent user experience. For example, please avoid misusing the specific component's
features designed and only applicable to certain desktop-only cases (like `openOnHover`) before thorough
review with the UX design team.

Include it in your application with:

```js
import Tooltip from '@ux/tooltip';
```

#### Properties

The component can be manipulated using the following `props`:

- `message` The text that will be in the tooltip, renderable React node.
- `title` Optional tooltip title with different styling compared to message, renderable React node.
- `text` Render the tooltip over text as opposed to the default help icon.
- `persistent` Optionally only close the tooltip by clicking on the close icon. e.g. clicks outside the
  tooltip or the _escape_ key no longer close the tooltip.
- `open` Optionally open the tooltip on initial render, no user interaction required.
- `onOpen` Custom event handler that will be called when the tooltip opens.
- `onClose` Custom event handler that will be called after the tooltip closes.
- `onDismiss` Custom event handler that is only called when a user dismisses the tooltip by clicking on the close icon.
- `openOnHover` Optionally attach _mouseenter_ and _mouseleave_ event listeners to toggle the tooltip.
  - **Note: this prop is meant for desktop use only.**
- `hideClose` Optionally hide the close button of the tooltip to behavie like a styled title attribute in combination with `autoHideTimeout`
  - **Note: this props is meant for desktop (and mouse) use only.**
- `autoHideTimeout` Optionally close the tooltip after a timeout of `n` milliseconds.
- `tabIndex` Optionally provide a custom _tabIndex_ if multiple components exist in the UI.
- `data-eid` Optionally provide an eid for the base button.
- `aria-label` Optionally provide a label for the base button.

### API

The following functions are avaialble if you need programmatic control over the behaviour of tooltips. This
deviates from the default use cases of React. Wrapping components can call the methods from lifecycle hooks like
`componentWillReceiveProps` or by reference. API examples assume the following setup

```js
class MyComponent extends React.Component {
  render() {
    return <div>
      This tooltip will have it reference stored on the instance so it can be re-used.
      <Tooltip ref={ r => this.tooltip = r }></Tooltip>
    </div>;
  }
}
```

#### .open

Opens the tooltip and renders it in DOM.

```js
this.tooltip.open()
```

#### .close

If opened, will close and remove the tooltip from the DOM. Finally calls the passed `props.onClose`.

```js
this.tooltip.close()
```

#### Basic tooltip

This will render a basic Tooltip that will add a `help` icon inline with respect to the wrapping text. The icon
will act as anchor and can be clicked to open the tooltip. The title and message will be displayed as
tooltip content.

```js
import Tooltip from '@ux/tooltip';
import React, { Component } from 'react';

export default class Example extends Component {
  render () {
    return (
      <div>
        Rendered inline <Tooltip title="Your tooltip title" message="Your tooltip message"></Tooltip> with text
      </div>
    );
  }
}
```

## Test

Make sure dependencies are installed and that your running on `node@6.0` or above.

```bash
npm test
```
