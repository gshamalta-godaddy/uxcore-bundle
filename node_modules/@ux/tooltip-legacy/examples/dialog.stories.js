import React, { useState, useRef } from 'react';
import Tooltip from '../src';
import text from '@ux/text';
import Dialog from '@ux/dialog';
import lipsum from 'bob-ross-lipsum';

import '@ux/text/src/styles';
import '@ux/dialog/src/styles';

export default function WithDialog(args) {
  const [show, setShow] = useState(false);
  const anchorRef = useRef(null);

  const title = <text.h3 text='First step' as='title'/>;

  const tooltip = (
    <Tooltip anchorRef={ anchorRef } onClose={ () => setShow(false) } { ...args }>
      <Dialog onClose={ () => setShow(false) } title={ title } id='onboarding-1' padding>
        { lipsum(1) }
      </Dialog>
    </Tooltip>
  );

  return (
    <div style={{ margin: '10rem 1rem', textAlign: 'center' }}>
      <button ref={ anchorRef } onClick={ () => setShow(!show) } aria-haspopup={ show }>
        Click for Tooltip using Dialog
      </button>
      { show && tooltip }
    </div>
  );
}
